<ion-header>
  <ion-toolbar>
    <ion-title>Statistiques</ion-title>
    <ion-buttons end>
      <button ion-button (click)="goHome()">
        <ion-icon name="home"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding class="independant-card">

  <!--Head of stats page: tag-->
  <!--TODO: Think about a template for several tags-->
  <ion-card class="title-theme">
    <ion-card-header>
      <img id="theme" src="{{getIcon(tags[0], 0)}}"/>
      <h2>{{tags[0].name}}</h2>
    </ion-card-header>
    <hr>
    <!--Pictures and names of candidates-->
    <ion-card-content>
      <ion-grid>
        <!--TODO: Think about to adapt the template for more than 2 candidates-->
        <ion-row>
          <ion-col width-50 class="image-candidate" *ngFor="let c of candidacies">
            <div>
              <img class="candidate-stats" src={{getPhoto(c.candidates[0],"small")}}/>
            </div>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col width-50 class="candidate-name" *ngFor="let c of candidacies">
            <h2>{{getName(c.candidates[0])}}</h2>
          </ion-col>
        </ion-row>

        <!--Swipe results-->
        <ion-row>
          <ion-col width-50 class="results-icons" *ngFor="let c of candidacies">
            <ion-icon *ngFor="let answer of getAnswers(c,true)" name="checkmark" class="vote-yes"></ion-icon>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col width-50 class="results-icons" *ngFor="let c of candidacies">
            <ion-icon *ngFor="let answer of getAnswers(c,false)" name="close" class="vote-no"></ion-icon>
          </ion-col>
        </ion-row>

      </ion-grid>
    </ion-card-content>
  </ion-card>

  <!--Propositions summary-->
  <div *ngFor="let answer of answers" text-wrap>
    <ion-item *ngIf="answer.approved == true">
      <ion-avatar item-left>
        <img src={{getPhoto(getCandidate(answer.proposition.candidacy.id),"small")}}>
      </ion-avatar>
      <h2>{{getName(getCandidate(answer.proposition.candidacy.id))}} – <ion-icon *ngIf="answer.approved" name="checkmark" class="vote-yes"></ion-icon><ion-icon *ngIf="!answer.approved" name="close" class="vote-no"></ion-icon></h2>
      <p>{{answer.proposition.text}}</p>
    </ion-item>
  </div>

  <!--Go to home page button-->
  <button (click)="goHome()" ion-button round class="again-button">Retour à l'accueil</button>

</ion-content>
